(this.webpackJsonpquimicapp=this.webpackJsonpquimicapp||[]).push([[11],{152:function(e,t,n){"use strict";var r,o=n(1),a=n(16),i=n(21),s=n(5),c=n(6).c.div(r||(r=Object(s.a)(["\n  position: relative;\n  margin: 3rem 0rem;\n\n  & input {\n    width: 100%;\n    height: 3.2rem;\n    border-radius: 1.5rem;\n    filter: drop-shadow(0rem 0.19rem 0.2rem #757575);\n    border: none;\n    padding-left: 4rem;\n\n    &:focus {\n      outline: none;\n    }\n  }\n  & .search-icon {\n    font-size: 20px;\n    position: absolute;\n    left: 30px;\n    top: 50%;\n    transform: translateY(-50%);\n    z-index: 2;\n    & path {\n      fill: #0a1128;\n    }\n  }\n"]))),l=n(0);t.a=function(){var e=Object(o.useState)(!1),t=e.keyword,n=e.setKeyword;return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(c,{className:"search-bar-wrapper",children:[Object(l.jsx)(a.a,{icon:i.f,className:"search-icon"}),Object(l.jsx)("input",{type:"text",value:t,onChange:function(e){return n(e.target.value)}},"searchUser")]})})}},709:function(e,t,n){"use strict";n.r(t);var r,o,a=n(13),i=n(152),s=n(173),c=n(9),l=n.n(c),u=n(18),d=n(17),p=n(1),b=n(703),m=n(15),f=n(4),g=n.n(f),h=n(22),x=n.n(h),j=n(19),v=n(16),w=n(21),O=n(5),E=n(6),k=E.c.div(r||(r=Object(O.a)(["\n  & .groups-table {\n    & table {\n      border-collapse: separate;\n      border-spacing: 0 0.3rem;\n    }\n    & .ant-table-selection,\n    .ant-checkbox-wrapper {\n      display: none;\n    }\n    & tr {\n      height: 5rem;\n      font-size: 17px;\n      &:hover > td {\n        background-color: #6bb1c5;\n      }\n    }\n    & thead tr th {\n      background-color: #0a1128;\n      color: #fefcfb;\n    }\n    & tr td {\n      background-color: #0a1128;\n      color: #fefcfb;\n    }\n    & tr td:first-child,\n    tr th:first-child {\n      border-top-left-radius: 0.3rem;\n      border-bottom-left-radius: 0.3rem;\n    }\n    & tr td:last-child,\n    tr th:last-child {\n      border-top-right-radius: 0.3rem;\n      border-bottom-right-radius: 0.3rem;\n    }\n    & .ant-table-column-has-sorters:hover {\n      background-color: #6bb1c5;\n    }\n    & td div div {\n      &:first-child {\n        a path {\n          fill: #3d6e9c;\n        }\n      }\n      &:last-child {\n        a path {\n          fill: #c56b6b;\n        }\n      }\n      & a {\n        padding: 0rem 0rem;\n        border: none;\n        border-radius: 0.2rem;\n        font-weight: 400;\n        text-decoration: none;\n      }\n    }\n  }\n"]))),S=E.c.a(o||(o=Object(O.a)(["\n  display: block;\n  width: 160px;\n  height: 45px;\n  background: #6bb1c5;\n  padding: 10px;\n  margin-bottom: 2rem;\n  text-align: center;\n  border-radius: 5px;\n  color: white;\n  font-weight: bold;\n  background-color: #6bb1c5;\n  text-decoration: none;\n  box-shadow: 0rem 0.2rem 0.2rem 0rem #bdbdbd;\n  float: right;\n  &:hover {\n    color: white;\n  }\n"]))),C=n(0),y=[{title:"Nombre",dataIndex:"nombre",sorter:function(e,t){return e.nombre<t.nombre?1:t.nombre<e.nombre?-1:0},sortDirections:["descend","ascend"]},{title:"Apellidos",dataIndex:"apellidos",responsive:["lg"],sorter:function(e,t){return e.apellidos<t.apellidos?1:t.apellidos<e.apellidos?-1:0},sortDirections:["descend","ascend"]},{title:"Grupo",dataIndex:"grupo",sorter:function(e,t){return e.grupo<t.grupo?1:t.grupo<e.grupo?-1:0},sortDirections:["descend","ascend"]},{title:"Email",dataIndex:"email",responsive:["lg"],sorter:function(e,t){return e.email<t.email?1:t.email<e.email?-1:0},sortDirections:["descend","ascend"]}],N={position:"bottom"},A=function(){var e=Object(p.useState)(),t=Object(d.a)(e,2),n=t[0],r=t[1],o=[];Object(p.useEffect)(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sessionStorage.getItem("token")||!sessionStorage.getItem("user")){e.next=3;break}return e.next=3,m.a.get("group-usuario").then((function(e){if(e.status>=200&&e.status<=205)for(var t=function(t){e.data[t].email?o.push({key:t,nombre:e.data[t].nombre,apellidos:e.data[t].apellidos,email:e.data[t].email,id_grupo:e.data[t].id_grupo,grupo:e.data[t].nombre_grupo}):o.push({key:t,nombre:Object(C.jsxs)(C.Fragment,{children:[e.data[t].nombre,"\xa0\xa0",Object(C.jsx)("a",{className:"btn btn-primary",onClick:function(n){a(e.data[t].id,e.data[t].nombre)},children:Object(C.jsx)(v.a,{icon:w.c,className:"edit-icon"})}),"\xa0\xa0",Object(C.jsx)("a",{className:"btn btn-danger",onClick:function(n){f(e.data[t].id)},children:Object(C.jsx)(v.a,{icon:w.g,className:"delete-icon"})})]}),apellidos:e.data[t].apellidos,email:e.data[t].email,id_grupo:e.data[t].id_grupo,grupo:e.data[t].nombre_grupo})},n=0;n<e.data.length;n++)t(n)})).catch((function(e){401==e.status?g()({title:"Error acceso "+e.response.status,text:"Error, no tienes acceso a esta secci\xf3n.",icon:"error",button:"Aceptar",timer:"3000"}):g()({title:"Error interno "+e.response.status,text:"Error interno, vuelve a intentarlo en unos momentos.",icon:"error",button:"Aceptar",timer:"3000"})}));case 3:r(o);case 4:case"end":return e.stop()}}),e)}))),[]);var a=function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.a.fire({title:"Editar",html:"<label for='Enombre'>Nombre:</label>\n      <input class=\"swal2-input\" id='Enombre' type='text' value='".concat(n,"'>\n      "),showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Editar",cancelButtonText:"Cancelar",focusConfirm:!1,preConfirm:function(){var e=x.a.getPopup().querySelector("#Enombre").value;return e||x.a.showValidationMessage("Alg\xfan campo obligatorio vac\xedo"),{Enombre:e}}}).then((function(e){if(e.isConfirmed){g()({icon:j.a,button:!1,allowOutsideClick:!1});var n;n={nombre:"".concat(e.value.Enombre)},m.a.put("grupo/"+"".concat(t),n).then((function(e){e.status>=200&&e.status<=205&&window.location.reload(!0)})).catch((function(e){401==e.status?g()({title:"Error acceso "+e.response.status,text:"Error, no tienes acceso a esta secci\xf3n.",icon:"error",button:"Aceptar",timer:"3000"}):g()({title:"Error interno "+e.response.status,text:"Error interno, vuelve a intentarlo en unos momentos.",icon:"error",button:"Aceptar",timer:"3000"})}))}}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],x.a.fire({title:"Crear grupo",html:"\n      <label for='Enombre'>Nombre:</label>\n      <input class=\"swal2-input\" id='Enombre' type='text' placeholder=\"Nombre\">",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Crear",cancelButtonText:"Cancelar",focusConfirm:!1,preConfirm:function(){var e=x.a.getPopup().querySelector("#Enombre").value;return e||x.a.showValidationMessage("Alg\xfan campo obligatorio vac\xedo"),{Enombre:e}}}).then((function(e){e.isConfirmed&&(t={nombre:"".concat(e.value.Enombre)},c(t))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post("grupo",t).then((function(e){e.status>=200&&e.status<=205&&window.location.reload(!0)})).catch((function(e){401==e.status?g()({title:"Error acceso "+e.response.status,text:"Error, no tienes acceso a esta secci\xf3n.",icon:"error",button:"Aceptar",timer:"3000"}):g()({title:"Error interno "+e.response.status,text:"Error interno, vuelve a intentarlo en unos momentos.",icon:"error",button:"Aceptar",timer:"3000"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){g()({title:"\xbfEst\xe1s seguro?",text:"Eliminar\xe1s a todos los usuarios del grupo y una vez eliminado no podr\xe1s volver a recuperarlo.",icon:"warning",buttons:!0,dangerMode:!0}).then((function(t){t&&(g()({icon:j.a,button:!1,allowOutsideClick:!1}),m.a.delete("grupo/"+e).then((function(e){e.status>=200&&e.status<=205&&(JSON.parse(sessionStorage.getItem("user")).id_profesor?window.location.reload(!0):(sessionStorage.clear(),window.location.href="/"),g()({title:"Grupo eliminado",text:"  ",icon:"success",button:!1,timer:"1800"}))})).catch((function(e){401==e.status?g()({title:"Error acceso "+e.response.status,text:"Error, no tienes acceso a esta secci\xf3n.",icon:"error",button:"Aceptar",timer:"3000"}):g()({title:"Error "+e.response.status,text:"El grupo tiene alumnos asignados",icon:"error",button:"Aceptar",timer:"3000"})})))}))},h=Object(p.useState)({bordered:!1,loading:!1,pagination:N,size:"default",showHeader:true,rowSelection:{},scroll:void 0,hasData:!0,tableLayout:"fixed",top:"none",bottom:"bottomRight",xScroll:!1,yScroll:!1}),O=Object(d.a)(h,2),E=O[0],A=(O[1],JSON.parse(sessionStorage.getItem("user")));JSON.parse(A.id_profesor)&&y.splice(1);var B={};E.yScroll&&(B.y=240),E.xScroll&&(B.x="100vw");var I=y.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{ellipsis:E.ellipsis})}));"fixed"===E.xScroll&&(I[0].fixed=!0,I[I.length-1].fixed="right");sessionStorage.getItem("user").username;return Object(C.jsxs)(C.Fragment,{children:[function(){var e=JSON.parse(sessionStorage.getItem("user"));if(e){if(e.id_profesor)return Object(C.jsx)(S,{className:"btn",onClick:function(e){i()},children:"+ Crear Grupo"});y.splice(5)}}(),Object(C.jsx)(k,{children:Object(C.jsx)(b.a,Object(s.a)(Object(s.a)({},E),{},{pagination:{position:[E.top,E.bottom],pageSize:6},columns:I,dataSource:n||null,scroll:B,className:"groups-table"}))})]})};t.default=function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(a.a,{}),Object(C.jsxs)("div",{className:"container",children:[Object(C.jsx)(i.a,{}),Object(C.jsx)(A,{})]})]})}}}]);
//# sourceMappingURL=11.1ee53224.chunk.js.map